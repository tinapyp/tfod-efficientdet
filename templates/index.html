<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Eff-Scan</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="{{ url_for('static', filename='style/' + 'style.css') }}" rel="stylesheet" />
  </head>
  <body>
    <div class="header">
      <h1>Eff-Scan</h1>
      <div>
        <button class="btn btn-outline-secondary">About</button>
        <button class="btn btn-outline-secondary">Help</button>
      </div>
    </div>
    <div class="result" id="result"></div>
    <div class="bottom-buttons" id="bottom-buttons">
      <form action="/upload" method="post" enctype="multipart/form-data" id="uploadForm">
        <input type="file" name="file" class="form-control" id="fileInput" />
        <button type="submit" class="btn btn-primary">Upload Photo</button>
      </form>
      <button class="btn btn-secondary" onclick="startCamera()">Start Camera</button>
    </div>
    <div id="camera">
      <video id="video" width="640" height="480" autoplay></video>
      <button id="capture" onclick="captureImage()" class="btn btn-danger mt-3">Capture</button>
      <canvas id="canvas" style="display: none;"></canvas>
    </div>
    <div id="preview" style="display: none;">
      <img id="previewImage" class="img-thumbnail mt-3" style="max-width: 100%;" />
      <div class="mt-3">
        <button class="btn btn-secondary" onclick="retakeImage()">Retake</button>
        <button class="btn btn-success" onclick="submitImage()">Submit</button>
      </div>
    </div>
    <form id="captureForm" action="/capture" method="post" enctype="multipart/form-data" style="display: none;">
      <input type="hidden" name="image" id="imageData" />
      <button type="submit" class="btn btn-success mt-3">Submit</button>
    </form>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='script/' + 'script.js') }}"></script>
  </body>
</html>
